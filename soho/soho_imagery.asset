local assetHelper = asset.require('util/asset_helper')
local transforms = asset.require('./soho')



if not SOHOImageryDataPath then
    openspace.printError("Trying to add SOHO imagery, but 'SOHOImageryDataPath' was not defined")
    return
end

local transferfunctions = asset.syncedResource({
    Name = "SOHO Transfer Functions",
    Type = "HttpSynchronization",
    Identifier = "sun_earth_event-soho_transferfunctions",
    Version = 1
})

local SOHOImagery = {
    Identifier = "SolarImagery_Soho_Image_C2",
    Parent = transforms.SOHO.Identifier,
    Renderable = {
        Type = "RenderableSolarImagery",
        -- Will recursively find all instruments with .jp2 or .j2k extension
        RootPath = SOHOImageryDataPath,
        Offset = 0.00001,
        StartResolutionLevel = 0,
        StartInstrument = "LASCO_C2_white-light",
        TransferfunctionPath = transferfunctions
    },
    GUI = {
        Name = "SolarImagery SOHO Image C2",
        Path = "/Solar System/Solar Imagery"
    }
}



local objects = { SOHOImagery }
assetHelper.registerSceneGraphNodesAndExport(asset, objects)
